(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{31:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var s,n=c(1),a=c.n(n),i=c(26),r=c.n(i),o=c(6),l=(c(31),c(3)),u=c(7),d=c.n(u),j=c(0),b=function(e){var t=e.children,c=e.to,s=e.text,n=e.className;return Object(j.jsx)(o.c,{to:c,className:function(e){var t=e.isActive;return d()(n,{active:t})},children:s?Object(j.jsx)("p",{className:"uppercase_text",children:s}):t})},m=function(e){var t=e.className;return Object(j.jsx)(o.b,{to:"/",className:t,children:Object(j.jsx)("img",{src:"img/icons/LOGO.svg",alt:"logo"})})},h=c(4),O=function(e,t){var c=Object(n.useState)((function(){try{return JSON.parse(localStorage.getItem(e)||"")||t}catch(c){return t}})),s=Object(h.a)(c,2),a=s[0],i=s[1];return{value:a,save:function(t){i(t),localStorage.setItem(e,JSON.stringify(t))}}},p=a.a.createContext({cartList:[],setCartList:function(){},favouritesList:[],setFavouritesList:function(){}}),v=function(e){var t=e.children,c=O("cartList",[]),s=c.value,n=c.save,a=O("favourites",[]),i={cartList:s,setCartList:n,favouritesList:a.value,setFavouritesList:a.save};return Object(j.jsx)(p.Provider,{value:i,children:t})},x=function(e){var t=e.cartsNumber,c=e.icon;return Object(j.jsx)("div",{className:"header-icon-".concat(c),children:!!t&&t>0&&Object(j.jsx)("div",{className:"header-icon-".concat(c,"__circle"),children:Object(j.jsx)("span",{className:"header__icon-text",children:t})})})},f=function(){var e=Object(n.useContext)(p).favouritesList;return Object(j.jsx)(b,{to:"/Favourites",className:"header__item",children:Object(j.jsx)(x,{cartsNumber:e.length,icon:"favourites"})})},_=function(){var e=Object(n.useContext)(p).cartList,t=Object(n.useMemo)((function(){return e.reduce((function(e,t){return e+t.quantity}),0)}),[e]);return Object(j.jsx)(b,{to:"/Cart",className:"header__item",children:Object(j.jsx)(x,{cartsNumber:t,icon:"cart"})})};!function(e){e.Page="page",e.Perpage="perPage",e.Sort="sort",e.Querry="querry"}(s||(s={}));var N,g=function(e){var t,c=e.category,a=Object(o.d)(),i=Object(h.a)(a,2),r=i[0],l=i[1],u=Object(n.useRef)(null),d=r.get(s.Querry)||"",b=Object(n.useMemo)((function(){return d.length>0}),[d]);return Object(j.jsxs)("div",{className:"search-bar",children:[Object(j.jsx)("input",{ref:u,className:"search-bar__input",value:d,placeholder:"Search in ".concat((t=c,t[0].toLowerCase()+t.slice(1)),"..."),onChange:function(){u.current&&u.current.value?r.set(s.Querry,u.current.value):r.delete(s.Querry),l(r)}}),b&&Object(j.jsx)("button",{type:"button","aria-label":"Delete-query",className:"search-bar__cross",onClick:function(){u.current&&(u.current.value="",r.delete(s.Querry),l(r))}}),Object(j.jsx)("button",{type:"button","aria-label":"Focus-search-query",className:"search-bar__icon",onClick:function(){u.current&&u.current.focus()}})]})};!function(e){e.Phones="Phones",e.Tablets="Tabletes",e.Accessories="Accessories",e.Favourites="Favourites"}(N||(N={}));var y,k=function(){var e=Object(l.k)().pathname,t=e.slice(1).split("/")[0];return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsxs)("div",{className:"header-block",children:[Object(j.jsx)(m,{className:"header__logo"}),Object(j.jsxs)("nav",{className:"header-nav",children:[Object(j.jsx)(b,{to:"/",text:"home",className:"header-nav__link"}),Object(j.jsx)(b,{to:"/Phones",text:"phones",className:"header-nav__link"}),Object(j.jsx)(b,{to:"/Tabletes",text:"tabletes",className:"header-nav__link"}),Object(j.jsx)(b,{to:"/Accessories",text:"accessories",className:"header-nav__link"})]})]}),Object(j.jsxs)("div",{className:"header-block",children:[Object.values(N).some((function(t){return"/".concat(t)===e}))&&Object(j.jsx)(g,{category:t}),Object(j.jsx)(f,{}),Object(j.jsx)(_,{})]})]})},C=c(8),L=c(11),w=["img/banner-accessories.png","img/banner-phones.png","img/banner-tablets.png"],E=w.length,P=E-1,S=function(e){var t=e.sliderWidth,c=Object(n.useState)([]),s=Object(h.a)(c,2),a=s[0],i=s[1],r=Object(n.useState)(!1),o=Object(h.a)(r,2),l=o[0],u=o[1];Object(n.useEffect)((function(){a.length?i((function(e){return e.map((function(e){return Object(L.a)(Object(L.a)({},e),{},{transition:"none",width:t})}))})):i(w.map((function(e,c){return{index:c,position:c,opacity:1,adress:e,transition:"none",width:t}})))}),[t]),Object(n.useEffect)((function(){if(l){var e=setTimeout((function(){return u(!1)}),800);return function(){return clearTimeout(e)}}return function(){}}),[l]);return Object(j.jsxs)("section",{className:"slider",children:[Object(j.jsx)("button",{className:"slider__button",type:"button",disabled:l,onClick:function(){u(!0),i((function(e){return e.map((function(e){return function(e){var t=Object(L.a)({},e);return t.transition="transform 0.8s ease-in-out",e.position===P?(t.opacity=0,t.position=0):(t.opacity=1,t.position+=1),t}(e)}))}))},children:Object(j.jsx)("img",{src:"img/buttons/VectorLeft.svg",alt:"leftButton",className:"icon-bck"})}),Object(j.jsx)("div",{className:"slider__body",children:Object(j.jsx)("ul",{className:"album",children:a.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)("img",{src:e.adress,alt:"banner",className:"album__img",style:(t=e,t.width?{opacity:"".concat(t.opacity),transform:"translate(".concat(t.position*t.width,"px)"),transition:t.transition}:{})})},e.adress.slice(16,-4));var t}))})}),Object(j.jsx)("button",{className:"slider__button",type:"button",disabled:l,onClick:function(){u(!0),i((function(e){return e.map((function(e){return function(e){var t=Object(L.a)({},e);return t.transition="transform 0.8s ease-in-out",0===e.position?(t.opacity=0,t.position=P):(t.opacity=1,t.position-=1),t}(e)}))}))},children:Object(j.jsx)("img",{src:"img/buttons/VectorRight.svg",alt:"rightButton",className:"icon-fwd"})}),Object(j.jsx)("ul",{className:"rectangles",children:a.map((function(e){return Object(j.jsx)("li",{className:d()("rectangles__item",{"is-active":0===e.position})},e.adress)}))})]})},A=function(e,t){var c=e.find((function(e){return e.id===t.id})),s=Object(C.a)(e);return c?s.map((function(e){return e.id===c.id?Object(L.a)(Object(L.a)({},e),{},{quantity:e.quantity+1}):e})):[].concat(Object(C.a)(e),[t])},F=function(e){return{id:e.id,name:e.name,price:e.price,image:e.image,quantity:1}},M=function(e,t){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(Object(C.a)(e),[t])},T=function(e){var t=e.phone,c=Object(n.useContext)(p),s=c.cartList,a=c.setCartList,i=c.favouritesList,r=c.setFavouritesList,l=Object(n.useMemo)((function(){return s.some((function(e){return e.id===t.id}))}),[s]),u=Object(n.useMemo)((function(){return i.includes(t.id)}),[i]),b=t.image,m=t.phoneId,h=t.name,O=t.price,v=t.fullPrice,x=t.year,f=t.screen,_=t.capacity,N=t.ram;return Object(j.jsxs)(o.b,{to:"/Phones/".concat(t.id),className:"product-card","data-cy":"cardsContainer",children:[Object(j.jsx)("div",{className:"product-card__picture",children:Object(j.jsx)("img",{className:"product-image",src:b,alt:m})}),Object(j.jsxs)("div",{className:"product-info-wrapper",children:[Object(j.jsx)("div",{className:"product-card__title",children:Object(j.jsx)("span",{children:h})}),Object(j.jsxs)("div",{className:"product-price ",children:[Object(j.jsxs)("div",{className:"product-price__regular",children:["$",O]}),2019!==x&&Object(j.jsxs)("div",{className:"product-price__full",children:["$",v]})]}),Object(j.jsxs)("div",{className:"product-card__details",children:[Object(j.jsxs)("div",{className:"info-block",children:[Object(j.jsx)("div",{className:"info-block__title",children:"Screen"}),Object(j.jsx)("div",{className:"info-block__value",children:f})]}),Object(j.jsxs)("div",{className:"info-block",children:[Object(j.jsx)("div",{className:"info-block__title",children:"Capacity"}),Object(j.jsx)("div",{className:"info-block__value",children:_})]}),Object(j.jsxs)("div",{className:"info-block",children:[Object(j.jsx)("div",{className:"info-block__title",children:"RAM"}),Object(j.jsx)("div",{className:"info-block__value",children:N})]})]}),Object(j.jsxs)("div",{className:"card-button",children:[Object(j.jsx)("button",{className:d()("card-button__add",{"card-button__add--selected":l}),type:"button",onClick:function(e){e.preventDefault(),a(A(s,F(t)))},children:l?"Added to cart":"Add to cart"}),Object(j.jsx)("button",{"data-cy":"addToFavorite","aria-label":"Add-favourites",className:d()("card-button__favourite",{"card-button__favourite--selected":u}),type:"button",onClick:function(e){e.preventDefault(),r(M(i,t.id))}})]})]})]})};function R(){var e=Object(n.useState)(window.innerWidth),t=Object(h.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){function e(){s(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),c}!function(e){e[e.desc=1040]="desc",e[e.tablet=600]="tablet"}(y||(y={}));var q,D=function(e){var t=e.phones,c=e.title,s=R(),a=Object(n.useState)(0),i=Object(h.a)(a,2),r=i[0],o=i[1],l=Object(n.useState)(!1),u=Object(h.a)(l,2),b=u[0],m=u[1],O=s<y.desc?{element:220,interval:10,items:3}:{element:272,interval:16,items:4},p=O.items-t.length,v={transform:"translate(".concat(r*(O.element+O.interval),"px)")};Object(n.useEffect)((function(){var e=setTimeout((function(){return m(!1)}),800);return function(){return clearTimeout(e)}}),[r]);var x=r===p,f=0===r;return Object(j.jsxs)("section",{className:"product-slider",children:[Object(j.jsxs)("div",{className:"product-slider__heading",children:[Object(j.jsx)("div",{className:"product-slider-title",children:Object(j.jsx)("h1",{children:c})}),Object(j.jsxs)("div",{className:"slider-button",children:[Object(j.jsx)("button",{className:d()("slider-button__left",{"slider-button__left--disabled":f}),type:"button","aria-label":"Slide-left",disabled:b,onClick:function(){0!==r&&m(!0),o(r+O.items>0?0:function(e){return e+O.items})}}),Object(j.jsx)("button",{className:d()("slider-button__right",{"slider-button__right--disabled":x}),type:"button","aria-label":"Slide-right",disabled:b,onClick:function(){r!==p&&m(!0),o(r-O.items<=p?p:function(e){return e-O.items})}})]})]}),Object(j.jsx)("div",{className:"product-slider__window",children:Object(j.jsx)("ul",{className:"product-slider-block",style:v,children:t.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(T,{phone:e})},e.id)}))})})]})},B=function(e){var t=e.categoryApi;return Object(j.jsx)("ul",{className:"category-shop__container",children:t.map((function(e,t){return Object(j.jsxs)("li",{className:"category-block",children:[Object(j.jsx)("img",{src:e.picture,alt:e.title,className:d()("category-block__picture",{"category-block__picture--gray-white":0===t},{"category-block__picture--gray-secondary":1===t},{"category-block__picture--purple":2===t})}),Object(j.jsx)(o.b,{to:"/".concat(e.name),className:"category-block__title",children:e.title}),Object(j.jsx)("div",{className:"category-block__info",children:e.number})]},e.title)}))})};!function(e){e.phones="Mobile phones",e.tablets="Tablets",e.accessories="Accessories"}(q||(q={}));var I,Q,$="categories/",W=function(e){var t=e.phonesNumber,c=[{name:"phones",title:q.phones,picture:"".concat($,"phones.svg"),number:t},{name:"tablets",title:q.tablets,picture:"".concat($,"tablets.svg"),number:24},{name:"accessories",title:q.accessories,picture:"".concat($,"accessories.svg"),number:100}];return Object(j.jsxs)("section",{className:"category-shop","data-cy":"categoryLinksContainer",children:[Object(j.jsx)("h1",{className:"category-shop__title",children:"Shop by category"}),Object(j.jsx)(B,{categoryApi:c})]})},J=function(){return Object(j.jsx)("div",{className:"loader",children:Object(j.jsx)("div",{className:"loader__content"})})},z=function(e){var t=e.isError;return Object(j.jsx)("div",{className:d()("notification-error",{"notification-error--active":t}),children:Object(j.jsx)("div",{className:"notification-error__title",children:"server error response"})})},U=c(5),V=c.n(U),Y=c(10),G=function(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),i=Object(h.a)(a,2),r=i[0],o=i[1],l=Object(n.useState)(!1),u=Object(h.a)(l,2),d=u[0],j=u[1];return Object(n.useEffect)((function(){(function(){var e=Object(Y.a)(V.a.mark((function e(){var t,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,fetch("https://mate-academy.github.io/react_phone-catalog/_new/products.json");case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,s(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),o(!0);case 14:return e.prev=14,j(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}})()()}),[]),{phones:c,isErrorPhones:r,isPhonesLoading:d}},H=function(){var e=G(),t=e.phones,c=e.isErrorPhones,s=e.isPhonesLoading,n=R()<y.desc?y.tablet:y.desc,a=t.filter((function(e){return e.year<2019})),i=t.filter((function(e){return 2019===e.year})),r=Object(C.a)(i).sort((function(e,t){return t.price-e.price}));return s?Object(j.jsx)(J,{}):Object(j.jsxs)("main",{className:"home-page",children:[Object(j.jsx)(z,{isError:c}),!c&&Object(j.jsx)(S,{sliderWidth:n}),Object(j.jsx)(D,{title:"Hot prices",phones:a}),Object(j.jsx)(W,{phonesNumber:t.length}),Object(j.jsx)(D,{title:"Brand new models",phones:r})]})},K=function(){return Object(j.jsxs)("nav",{className:"footer-nav",children:[Object(j.jsx)(o.b,{to:"https://github.com/serhii-yunnikov/react_phone-catalog/tree/develop",className:"footer-nav__link",children:Object(j.jsx)("p",{className:"uppercase_text",children:"github"})}),Object(j.jsx)(o.b,{to:"/Contacts",className:"footer-nav__link",children:Object(j.jsx)("p",{className:"uppercase_text",children:"contacts"})}),Object(j.jsx)(o.b,{to:"/Rights",className:"footer-nav__link",children:Object(j.jsx)("p",{className:"uppercase_text",children:"rights"})})]})},Z=function(){return Object(j.jsxs)("div",{className:"back-to-top",children:[Object(j.jsx)("div",{className:"small_text",children:"Back to top"}),Object(j.jsx)("button",{className:"back-to-top__button",type:"button",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(j.jsx)("img",{src:"img/buttons/VectorUp.svg",alt:"back_to_up"})})]})},X=function(){return Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsx)(m,{className:"footer__logo"}),Object(j.jsx)(K,{}),Object(j.jsx)(Z,{})]})};!function(e){e.four="4",e.eight="8",e.sixteen="16",e.all="all"}(I||(I={})),function(e){e.Newest="Newest",e.Alphabetically="Alphabetically",e.Cheapest="Cheapest"}(Q||(Q={}));var ee,te=function(e,t){return t?e.filter((function(e){return e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())})):e},ce=function(e,t){return e.filter((function(e){return t.includes(e.id)}))};!function(e){e.black="#1F2020",e.rosegold="#FAD7BD",e.gold="#F5DDC5",e.silver="#E4E4E2",e.spacegray="#25282A",e.green="#AEE1CD",e.yellow="#FFE681",e.white="#FBF7F4",e.purple="#B8AFE6",e.red="#E23636",e.midnightgreen="#4E5851",e.coral="#EE7762",e.grey="#535150"}(ee||(ee={}));var se=function(e){return{backgroundColor:ee["".concat(e)]}},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2?arguments[2]:void 0,s=t.split("-").slice(0,-1),n=[].concat(Object(C.a)(s),[e]).join("-"),a=c.find((function(e){return e.phoneId===n}));return null===a||void 0===a?void 0:a.id},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2?arguments[2]:void 0,s=t.split("-").slice(0,-2);s.push("".concat(e.slice(0,-2),"gb"));var n=[].concat(Object(C.a)(s),[t.split("-").slice(-1)]).join("-"),a=c.find((function(e){return e.phoneId===n}));return null===a||void 0===a?void 0:a.id},ie=function(e){var t,c=e.productList,s=Object(l.k)().pathname.slice(1).split("/"),n=s[0],a=s[1],i=null===c||void 0===c?void 0:c.find((function(e){return e.id===a}));return Object(j.jsxs)("div",{className:"breadcrumbs","data-cy":"breadCrumbs",children:[Object(j.jsx)(o.b,{to:"/",className:"breadcrumbs__home"}),Object(j.jsx)("div",{className:"breadcrumbs__vector"}),Object(j.jsx)(o.b,{to:"/".concat((t=n,t.charAt(0).toUpperCase()+t.slice(1))),className:"breadcrumbs__path",children:n}),i&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"breadcrumbs__vector"}),Object(j.jsx)("div",{className:"breadcrumbs__path",children:i.name})]})]})},re=function(e){var t=e.phones;return t.length?Object(j.jsx)("ul",{className:"phones-page__list","data-cy":"productList",children:t.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(T,{phone:e})},e.id)}))}):Object(j.jsx)("h2",{children:"No corresponding gadgets"})};function oe(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(h.a)(e,2),s=t[0],n=t[1];null===n?c.delete(s):c.set(s,n)})),c.toString()}var le=function(e){var t=e.total,c=e.currentPage,s=Object(o.d)(),n=Object(h.a)(s,1)[0],a=t[t.length-1],i=function(e){return{search:oe(n,{page:"".concat(e)})}};return Object(j.jsxs)("div",{className:"phones-page__pages","data-cy":"pagination",children:[Object(j.jsx)(o.b,{"data-cy":"paginationLeft",className:d()("slider-button__left",{"slider-button__left--disabled":1===c}),to:{search:oe(n,{page:"".concat(c-1)})}}),Object(j.jsx)("ul",{className:"pagination-block",children:t.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:i(e),className:d()("pagination-block__item",{"page-is-active":c===e}),children:e})},e)}))}),Object(j.jsx)(o.b,{"data-cy":"paginationRight",className:d()("slider-button__right",{"slider-button__right--disabled":c===a}),to:{search:oe(n,{page:"".concat(c+1)})}})]})},ue=c(9),de=function(e){var t=e.options,c=e.current,s=e.title,i=e.searchPar,r=e.isLong,l=Object(n.useState)(!1),u=Object(h.a)(l,2),b=u[0],m=u[1],O=Object(o.d)(),p=Object(h.a)(O,1)[0],v=Object(n.useRef)(null),x=Object(n.useRef)(null),f=a.a.useRef(null),_=function(){f.current=setTimeout((function(){m((function(e){return!e}))}),200)},N=function(e){var t,c,s=e.target;(b&&v&&!(null===(t=v.current)||void 0===t?void 0:t.contains(s))||(null===(c=x.current)||void 0===c?void 0:c.contains(s)))&&(f.current=setTimeout((function(){m(!1)}),200))};return Object(n.useEffect)((function(){var e;(document.addEventListener("click",N),b)?null===(e=x.current)||void 0===e||e.focus():clearTimeout(f.current);document.activeElement===x.current&&m(!0)}),[b]),Object(n.useEffect)((function(){return document.removeEventListener("click",N)}),[]),Object(j.jsxs)("div",{className:"select",children:[Object(j.jsx)("p",{className:"select__title",children:s}),Object(j.jsxs)("div",{tabIndex:0,role:"button",ref:v,className:d()("select-box",{"long-box":r}),onClick:_,onKeyDown:_,children:[Object(j.jsx)("p",{className:"select-box__text-item",children:c}),Object(j.jsx)("div",{className:d()("select-box__button",{"active-select":b})}),b&&Object(j.jsx)("ul",{className:d()("select-options",{"long-box":r}),ref:x,children:t.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:{search:oe(p,Object(ue.a)({},"".concat(i),"".concat(e)))},className:"select-options__item",children:Object(j.jsx)("p",{className:"select-box__text-item",children:e})})},e)}))})]})]})},je=function(){var e=Object(o.d)(),t=Object(h.a)(e,1)[0],c=G(),a=c.phones,i=c.isErrorPhones,r=c.isPhonesLoading,l=t.get(s.Page)||"1",u=t.get(s.Perpage)||I.sixteen,d=t.get(s.Sort),b=t.get(s.Querry),m=Object(n.useMemo)((function(){return te(function(e,t){switch(t){case Q.Alphabetically:return Object(C.a)(e).sort((function(e,t){return e.name.localeCompare(t.name)}));case Q.Cheapest:return Object(C.a)(e).sort((function(e,t){return e.price-t.price}));default:return Object(C.a)(e).sort((function(e,t){return t.year-e.year}))}}(a,d),b)}),[a,d,b]),O=Object(n.useMemo)((function(){return function(e,t){for(var c=[],s=e;s<=t;s+=1)c.push(s);return c}(1,function(e,t){return t===I.all?1:Math.ceil(e/Number(t))}(m.length,u||I.four))}),[u,a,m]),p=Object(n.useMemo)((function(){return function(e,t,c){var s=(t-1)*+c;return c===I.all?e:e.slice(s,s+ +c)}(m,+l,u)}),[u,d,l,a,m]);return r?Object(j.jsx)(J,{}):Object(j.jsxs)("main",{className:"phones-page",children:[Object(j.jsx)(z,{isError:i}),Object(j.jsxs)("div",{className:"phones-page__info-block",children:[Object(j.jsx)(ie,{productList:a}),Object(j.jsxs)("div",{className:"phone-page-title",children:[Object(j.jsx)("p",{className:"phone-page-title__name",children:"Mobile phones"}),Object(j.jsx)("div",{className:"phone-page-title__models-count",children:"".concat(a.length," models")})]}),Object(j.jsxs)("div",{className:"phones-page__select-block",children:[Object(j.jsx)(de,{options:Object.values(Q),current:d||Q.Newest,title:"Sort by",searchPar:"sort",isLong:!0}),Object(j.jsx)(de,{options:Object.values(I),current:u||I.sixteen,title:"Items on page",searchPar:"perPage",isLong:!1})]})]}),Object(j.jsx)(re,{phones:p}),!!O.length&&Object(j.jsx)(le,{total:O,currentPage:+l})]})},be=function(){var e=Object(l.m)();return Object(j.jsxs)("button",{"data-cy":"backButton",className:"back-button",type:"button",onClick:function(){return e(-1)},children:[Object(j.jsx)("div",{className:"back-button__vector"}),Object(j.jsx)("span",{className:"back-button__title",children:"Back"})]})},me=a.a.memo((function(e){var t=e.details,c=Object(n.useState)(0),s=Object(h.a)(c,2),a=s[0],i=s[1];return Object(n.useEffect)((function(){return i(0)}),[t]),Object(j.jsxs)("ul",{className:"details-photo-container",children:[null===t||void 0===t?void 0:t.images.map((function(e,t){return Object(j.jsx)("li",{role:"presentation",className:d()("details-photo-container__small--".concat(t+1),{"detail-active":t===a}),onClick:function(){return i(t)},children:Object(j.jsx)("img",{src:e,alt:"img".concat(t),className:"product-details-page__image-small"})},e)})),Object(j.jsx)("li",{className:"details-photo-container__main",children:Object(j.jsx)("img",{src:null===t||void 0===t?void 0:t.images[a],alt:"img1",className:"product-details-page__image-main"})})]})})),he=function(e){var t=e.colors,c=e.id,s=e.phones;return Object(j.jsxs)("div",{className:"color-details",children:[Object(j.jsx)("div",{className:"details-select-container__paragraph",children:"Available colors"}),Object(j.jsx)("ul",{className:"color-details__collection",children:null===t||void 0===t?void 0:t.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(o.c,{style:se(e),to:"/Phones/".concat(ne(e,c,s)),className:function(e){var t=e.isActive;return d()("color",{"active-color":t})}})},e)}))}),Object(j.jsx)("div",{className:"details-select-container__underline"})]})},Oe=function(e){var t=e.capacities,c=e.id,s=e.phones;return Object(j.jsxs)("div",{className:"capacity-details",children:[Object(j.jsx)("div",{className:"details-select-container__paragraph",children:"Select capacity"}),Object(j.jsx)("ul",{className:"capacity-details__collection",children:null===t||void 0===t?void 0:t.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(o.c,{to:"/Phones/".concat(ae(e,c,s)),className:function(e){var t=e.isActive;return d()("capacity",{"active-capacity":t})},children:Object(j.jsx)("div",{children:e})})},e)}))}),Object(j.jsx)("div",{className:"details-select-container__underline"})]})},pe=function(e){var t=e.details,c=e.phones,s=e.currentPhone,a=null===t||void 0===t?void 0:t.colorsAvailable,i=null===t||void 0===t?void 0:t.capacityAvailable,r=Object(n.useContext)(p),o=r.cartList,l=r.setCartList,u=Object(n.useContext)(p),b=u.favouritesList,m=u.setFavouritesList,h=Object(n.useMemo)((function(){return s&&o.some((function(e){return e.id===s.id}))}),[o,s]),O=s&&b.includes(s.id);return Object(j.jsxs)("div",{className:"details-select-container",children:[Object(j.jsx)(he,{colors:a,id:null===t||void 0===t?void 0:t.id,phones:c}),Object(j.jsx)(Oe,{capacities:i,id:null===t||void 0===t?void 0:t.id,phones:c}),Object(j.jsxs)("div",{className:"details-price",children:[Object(j.jsxs)("div",{className:"details-price__discount",children:["$",null===t||void 0===t?void 0:t.priceDiscount]}),2019!==(null===s||void 0===s?void 0:s.year)&&Object(j.jsxs)("div",{className:"details-price__regular",children:["$",null===t||void 0===t?void 0:t.priceRegular]})]}),Object(j.jsxs)("div",{className:"details-button",children:[Object(j.jsx)("button",{className:d()("details-button__add",{"details-button__add--selected":h}),type:"button",onClick:function(){s&&l(A(o,F(s)))},children:h?"Added to cart":"Add to cart"}),Object(j.jsx)("button",{className:d()("details-button__favourite",{"details-button__favourite--selected":O}),type:"button","aria-label":"Favourite",onClick:function(){s&&m(M(b,s.id))}})]}),Object(j.jsxs)("div",{className:"info-block",children:[Object(j.jsx)("div",{className:"info-block__title",children:"Screen"}),Object(j.jsx)("div",{className:"info-block__value",children:null===t||void 0===t?void 0:t.screen})]}),Object(j.jsxs)("div",{className:"info-block",children:[Object(j.jsx)("div",{className:"info-block__title",children:"Resolution"}),Object(j.jsx)("div",{className:"info-block__value",children:null===t||void 0===t?void 0:t.resolution})]}),Object(j.jsxs)("div",{className:"info-block",children:[Object(j.jsx)("div",{className:"info-block__title",children:"Processor"}),Object(j.jsx)("div",{className:"info-block__value",children:null===t||void 0===t?void 0:t.processor})]}),Object(j.jsxs)("div",{className:"info-block",children:[Object(j.jsx)("div",{className:"info-block__title",children:"RAM"}),Object(j.jsx)("div",{className:"info-block__value",children:null===t||void 0===t?void 0:t.capacity})]})]})},ve=function(e){var t=e.description;return Object(j.jsxs)("ul",{className:"details-about-container","data-cy":"productDescription",children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("h2",{className:"details-about-container__title",children:"About"}),Object(j.jsx)("div",{className:"details-about-container__underline"})]}),null===t||void 0===t?void 0:t.map((function(e){return Object(j.jsxs)("li",{children:[Object(j.jsx)("h3",{className:"details-about-container__subtitle",children:e.title}),Object(j.jsx)("div",{className:"details-about-container__paragraph",children:e.text})]},e.title)}))]})},xe=function(e){var t=e.details;return Object(j.jsxs)("div",{className:"details-specs-container",children:[Object(j.jsx)("h2",{className:"details-specs-container__title",children:"Tech specs"}),Object(j.jsx)("div",{className:"details-specs-container__underline"}),Object(j.jsxs)("div",{className:"details-specs-container__list",children:[Object(j.jsxs)("div",{className:"specs-block",children:[Object(j.jsx)("div",{className:"specs-block__name",children:"Screen"}),Object(j.jsx)("div",{className:"specs-block__text",children:null===t||void 0===t?void 0:t.screen})]}),Object(j.jsxs)("div",{className:"specs-block",children:[Object(j.jsx)("div",{className:"specs-block__name",children:"Resolution"}),Object(j.jsx)("div",{className:"specs-block__text",children:null===t||void 0===t?void 0:t.resolution})]}),Object(j.jsxs)("div",{className:"specs-block",children:[Object(j.jsx)("div",{className:"specs-block__name",children:"RAM"}),Object(j.jsx)("div",{className:"specs-block__text",children:null===t||void 0===t?void 0:t.ram})]}),Object(j.jsxs)("div",{className:"specs-block",children:[Object(j.jsx)("div",{className:"specs-block__name",children:"Screen"}),Object(j.jsx)("div",{className:"specs-block__text",children:null===t||void 0===t?void 0:t.screen})]}),Object(j.jsxs)("div",{className:"specs-block",children:[Object(j.jsx)("div",{className:"specs-block__name",children:"Built in memory"}),Object(j.jsx)("div",{className:"specs-block__text",children:null===t||void 0===t?void 0:t.capacity})]}),Object(j.jsxs)("div",{className:"specs-block",children:[Object(j.jsx)("div",{className:"specs-block__name",children:"Camera"}),Object(j.jsx)("div",{className:"specs-block__text",children:null===t||void 0===t?void 0:t.camera})]}),Object(j.jsxs)("div",{className:"specs-block",children:[Object(j.jsx)("div",{className:"specs-block__name",children:"Zoom"}),Object(j.jsx)("div",{className:"specs-block__text",children:null===t||void 0===t?void 0:t.zoom})]}),Object(j.jsxs)("div",{className:"specs-block",children:[Object(j.jsx)("div",{className:"specs-block__name",children:"Cell"}),Object(j.jsx)("div",{className:"specs-block__text",children:null===t||void 0===t?void 0:t.cell})]})]})]})},fe=function(){var e=Object(n.useState)(null),t=Object(h.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),i=Object(h.a)(a,2),r=i[0],o=i[1],u=Object(l.k)(),d=G(),b=d.phones,m=d.isErrorPhones,O=u.pathname.slice(1).split("/")[1],p=b.find((function(e){return e.id===O})),v=null===p||void 0===p?void 0:p.itemId,x=null===p||void 0===p?void 0:p.name,f="products/".concat(v,".json"),_=Object(n.useMemo)((function(){return function(e){var t,c=e.length,s=[];do{var n=(t=c,Math.floor(Math.random()*t));s.includes(n)||s.push(n)}while(s.length<c);return s.map((function(t){return e[t]}))}(b)}),[b]),N=Object(l.m)(),g=function(){var e=Object(Y.a)(V.a.mark((function e(t){var c,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){N("/notFound")};return Object(n.useEffect)((function(){b.length&&g(f).then((function(e){return t=e,o(!1),void s(t);var t})).catch(y)}),[b,u]),b.length?Object(j.jsxs)("main",{className:"product-details-page",children:[Object(j.jsx)(z,{isError:r||m}),!r&&!m&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ie,{productList:b}),Object(j.jsx)(be,{}),Object(j.jsx)("h1",{className:"product-details-page__title",children:x}),Object(j.jsxs)("div",{className:"product-details-page__info",children:[Object(j.jsx)(me,{details:c}),Object(j.jsx)(pe,{details:c,phones:b,currentPhone:p}),Object(j.jsx)(ve,{description:null===c||void 0===c?void 0:c.description}),Object(j.jsx)(xe,{details:c})]}),Object(j.jsx)(D,{title:"You may also like",phones:_})]})]}):Object(j.jsx)(J,{})},_e=function(e){var t=e.cart,c=Object(n.useContext)(p),s=c.cartList,a=c.setCartList,i=t.image,r=t.name,o=t.quantity,l=t.price;return Object(j.jsxs)("div",{className:"cart-block",children:[Object(j.jsx)("button",{className:"cart-block__cross","aria-label":"Close","data-cy":"cartDeleteButton",type:"button",onClick:function(){a(function(e,t){return e.filter((function(e){return e.id!==t.id}))}(s,t))}}),Object(j.jsx)("img",{className:"cart-block__image",src:i,alt:r}),Object(j.jsx)("div",{className:"cart-block__model",children:r}),Object(j.jsxs)("div",{className:"cart-select",children:[Object(j.jsx)("button",{className:d()("cart-select__minus",{"cart-select__minus--disabled":1===o}),disabled:1===o,"aria-label":"Delete",type:"button",onClick:function(){a(function(e,t){var c=e.find((function(e){return e.id===t.id})),s=Object(C.a)(e);return c&&c.quantity>1?s.map((function(e){return e.id===t.id?Object(L.a)(Object(L.a)({},e),{},{quantity:e.quantity-1}):e})):c&&1===c.quantity?s.filter((function(e){return e.id!==t.id})):e}(s,t))}}),Object(j.jsx)("div",{className:"cart-select__number",children:o}),Object(j.jsx)("button",{className:"cart-select__plus",type:"button","aria-label":"Add",onClick:function(){a(A(s,t))}})]}),Object(j.jsx)("h2",{className:"cart-block__price",children:"$".concat(l)})]})},Ne=function(){var e=Object(n.useContext)(p).cartList,t=Object(n.useState)(!1),c=Object(h.a)(t,2),s=c[0],a=c[1];Object(n.useEffect)((function(){var e=setTimeout((function(){return a(!1)}),3e3);return function(){return clearTimeout(e)}}),[s]);var i=e.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(j.jsxs)("main",{className:"cart-page",children:[Object(j.jsxs)("div",{className:"cart-page__content",children:[Object(j.jsx)(be,{}),Object(j.jsx)("h1",{children:"Cart"})]}),Object(j.jsxs)("div",{className:"cart-page-container",children:[Object(j.jsx)("ul",{className:"cart-page-container__list",children:e.length?e.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(_e,{cart:e})},e.id)})):Object(j.jsx)("h2",{className:"cart-page__empty-list-message",children:"Your cart is empty"})}),Object(j.jsxs)("div",{className:"cart-total",children:[Object(j.jsxs)("h1",{className:"cart-total__price",children:["$",i]}),Object(j.jsx)("div",{className:"cart-total__value","data-cy":"productQauntity",children:"Total for ".concat(e.length," items")}),Object(j.jsx)("div",{className:"cart-total__line"}),!!e.length&&Object(j.jsx)("button",{className:"cart-total__button",type:"button",onClick:function(){return a(!0)},children:"Checkout"})]})]}),Object(j.jsx)("div",{className:d()("notification",{"notification--active":s}),children:Object(j.jsx)("h2",{className:"notification__title",children:"We are sorry, but this feature is not implemented yet"})})]})},ge=function(){var e=Object(n.useContext)(p).favouritesList,t=Object(o.d)(),c=Object(h.a)(t,1)[0].get(s.Querry),a=G(),i=a.phones,r=a.isErrorPhones,l=a.isPhonesLoading,u=Object(n.useMemo)((function(){return c?te(ce(i,e),c):ce(i,e)}),[e,i,c]);return l?Object(j.jsx)(J,{}):Object(j.jsxs)("main",{className:"favourites-page",children:[Object(j.jsx)(z,{isError:r}),Object(j.jsx)(ie,{}),Object(j.jsx)("h1",{className:"favourites-page__title",children:"Favourites"}),Object(j.jsx)("div",{className:"favourites-page__quantity",children:"".concat(u.length," items")}),c&&!u.length?Object(j.jsx)("h2",{children:"No corresponding gadgets"}):Object(j.jsx)("ul",{className:"favourites-page__list",children:u.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(T,{phone:e})},e.id)}))})]})},ye=function(e){var t=e.text;return Object(j.jsx)("main",{className:"coming-soon-page",children:Object(j.jsx)("div",{className:"coming-soon-page__title",children:t})})},ke=function(){return Object(j.jsxs)(v,{children:[Object(j.jsx)(k,{}),Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/",element:Object(j.jsx)(H,{})}),Object(j.jsx)(l.a,{path:"/Phones",element:Object(j.jsx)(je,{})}),Object(j.jsx)(l.a,{path:"/Phones/:productId",element:Object(j.jsx)(fe,{})}),Object(j.jsx)(l.a,{path:"/Cart",element:Object(j.jsx)(Ne,{})}),Object(j.jsx)(l.a,{path:"/Favourites",element:Object(j.jsx)(ge,{})}),["/Tabletes","/Accessories","/Contacts","/Rights"].map((function(e){return Object(j.jsx)(l.a,{path:e,element:Object(j.jsx)(ye,{text:"Our product launch is coming soon..."})},e)})),Object(j.jsx)(l.a,{path:"*",element:Object(j.jsx)(ye,{text:"Page not found"})})]}),Object(j.jsx)(X,{})]})};r.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(ke,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.b3f22722.chunk.js.map